<span class="clickable" {{action "hideAnswers"}}>Hide answers</span>

<ul class="list-unstyled list-group">
  <h4>Answers</h4>
  {{#each}}
    <li class="list-group-item">
      {{text}}
      <span class="pull-right badge">{{upvotes}} upvotes</span>

      {{#if commentsShowing}}
        <button class="btn btn-info btn-xs" {{action "hideComments" this}}>hide comments</button>
      {{else}}
        <button class="btn btn-info btn-xs" {{action "viewComments" this}}>view comments</button>
      {{/if}}

      <button class="btn btn-success btn-xs" {{action "upvoteAnswer" this}}>Upvote</button>

      <span class="pull-right">answered by {{author}}
        <span class="upvotes glyphicon glyphicon-remove text-danger" {{action "deleteAnswer" this}}></span>
      </span>

      <br>
      <br>

      {{#if commentsShowing}}
        <ul class="list-unstyled list-group">
          {{#each comment in comments}}
            <li class="list-group-item">{{comment.text}}

              <span class="pull-right badge">{{comment.upvotes}} upvotes</span>

              <button class="btn btn-success btn-xs" {{action "upvoteComment" comment}}>Upvote</button>
              <span class="pull-right">commented by {{comment.author}}
                <span class="upvotes glyphicon glyphicon-remove text-danger" {{action "deleteComment" this comment}}></span>
              </span>
            </li>
          {{else}}
            No comments yet!
          {{/each}}
        </ul>

        {{#if addingComment}}

          <form>
            <div class="form-group">
              <label for="commentText">Comment:</label>
              {{textarea id="commentText" value=commentText class="form-control" rows="3"}}
            </div>

            <div class="form-group">
              <label for="commentAuthor">Author:</label>
              {{input id="commentAuthor" value=commentAuthor class="form-control"}}
            </div>

            <button class="btn btn-success btn-xs" {{action "addComment" this commentText commentAuthor}}>add comment</button>
          </form>

        {{else}}

          <button class="btn btn-primary btn-xs" {{action "newComment" this}}>Add a comment</button>

        {{/if}}


      {{/if}}
    </li>

  {{else}}
    No answers yet!
  {{/each}}
</ul>
